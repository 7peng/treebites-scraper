/*!
 * Copyright (c) 2012, 2024, Oracle and/or its affiliates. All rights reserved.
 */
apex.widget.report={},function(e,t,r,a,o,i,n){"use strict";t.gRowActive={},t.gStyleMouseOver={},t.gStyleChecked={},t.gPageItemsToSubmit={};var c={};function s(e,o,i){var n=i||{},c={};return n.x01=e,void 0!==t.gPageItemsToSubmit[e]&&(n.pageItems=t.gPageItemsToSubmit[e]),c.success=function(t){var r=$u_js_temp_drop();a("#report_"+e+"_catch",apex.gPageContext$).attr("id","report_"+e+"_catch_old"),a(r).html(t),apex.util.setPCTGraphStyles(),a("#report_"+e+"_catch_old",apex.gPageContext$).replaceWith(a("#report_"+e+"_catch",apex.gPageContext$)),a(r).empty(),i.p_focus_element_sel&&a(i.p_focus_element_sel).trigger("focus")},c.dataType="html",c.refreshObject="#report_"+apex.util.escapeCSS(e)+"_catch",c.refreshObjectData=e,c.loadingIndicator=c.refreshObject,c.loadingIndicatorPosition="centered",r.plugin(o,n,c)}t.init=function(s,g,p){const l=p.internalRegionId,d=a("#"+apex.util.escapeCSS(s),apex.gPageContext$);let _,u;apex.util.setPCTGraphStyles(),c[l]=g,void 0!==p.pageItems&&(t.gPageItemsToSubmit[l]=p.pageItems),t.gRowActive[l]=[],t.gStyleChecked[l]=p.styleChecked,a("#report_"+s+" .highlight-row",apex.gPageContext$).each((function(e){t.gRowActive[l][e]="N"})),void 0!==p.styleMouseOver&&(t.gStyleMouseOver[l]=p.styleMouseOver,a("#"+s,apex.gPageContext$).on("hover","#report_"+s+" .highlight-row",(function(e){"mouseenter"===e.type?a(this).closest("tr").children("td").css("background-color",t.gStyleMouseOver[l]):"mouseleave"===e.type&&("Y"===t.gRowActive[l][a("#report_"+s+" .highlight-row",apex.gPageContext$).index(this)]?a(this).closest("tr").children("td").css("background-color",t.gStyleChecked[l]):a(this).closest("tr").children("td").css("background-color",""))}))),d.length?(p.lazyLoading&&apex.widget.util.whenBecomesVisible(d,(function(){t.reset(l,g)})),d.attr("aria-live","polite"),e.create(s,{type:"ClassicReport",filterRegionId:p.filterRegionId,refresh:()=>t.reset(l,g)}),d.on("apexrefresh",(()=>{e(s).refresh()})),_=d[0]):_=a(`#report_${apex.util.escapeCSS(l)}_catch`).parent()[0],u=o.createContext("ClassicReport",_,s),u.add([{name:"sort",action:function(e,r,a){t.sort(e.target,g,a.by)}},{name:"paginate",choices:[],action:function(e,r,o){let n;if(o)n={min:o.min,max:o.max,fetched:o.fetched};else{n=a(e.target).val();try{n=JSON.parse(n)}catch(e){return i.redirect(n)}}n&&t.paginate(l,g,n)}},{name:"download",action:function(e,t,a){let o={p_widget_action:a.widgetAction,pageItems:p.pageItems};a.formatItem&&(o.x01=n(a.formatItem).getValue()),i.redirect(r.pluginUrl(g,o),a.ignoreUnsavedChanges)}}])},t.reset=function(e,t){var r={p_widget_action:"reset"};return s(e,t,r)},t.sort=function(e,t,r){let a={},o=t;const i=e.id,n=i.substring(1,i.lastIndexOf("_"));o&&""!==o&&null!==o||(o=c[n]),a.p_widget_action="sort",a.p_widget_action_mod=r,a.p_clear_cache="RP",a.p_fsp_region_id=n,a.p_focus_element_sel="#"+i,s(n,o,a)},t.paginate=function(e,t,r){var a=r;if("string"==typeof a){if("current"===a)return;a=apex.jQuery.parseJSON(a)}a.p_widget_action="paginate",a.p_pg_min_row=a.min,a.p_pg_max_rows=a.max,a.p_pg_rows_fetched=a.fetched,delete a.min,delete a.max,delete a.fetched,s(e,t,a)}}(apex.region,apex.widget.report,apex.server,apex.jQuery,apex.actions,apex.navigation,apex.item);